<!DOCTYPE html><html><head>
      <title>CONTRIBUTING</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\liuxi\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.6.3\node_modules\@shd101wyy\mume\dependencies\katex\katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="contributing-to-abacus">Contributing to ABACUS</h1>

<p>First of all, thank you for taking time making contributions to ABACUS!<br>
This file provides a guideline for it.</p>
<h2 class="mume-header" id="table-of-contents">Table of Contents</h2>

<ul>
<li><a href="#got-a-question">Got a question?</a></li>
<li><a href="#structure-of-the-package">Structure of the package</a></li>
<li><a href="#submitting-an-issue">Submitting an Issue</a></li>
<li><a href="#comment-style-for-documentation">Comment Style for documentation</a></li>
<li><a href="#code-formatting-style">Code formatting style</a></li>
<li><a href="#adding-a-unit-test">Adding a unit test</a></li>
<li><a href="#submitting-a-pull-request">Submitting a Pull Request</a></li>
<li><a href="#commit-message-guidelines">Commit Message Guidelines</a></li>
</ul>
<h2 class="mume-header" id="got-a-question">Got a question?</h2>

<p>Please referring to our GitHub <a href="https://github.com/deepmodeling/abacus-develop/issues">issue tracker</a>, and our developers are willing to help.<br>
If you find a bug, you can help us by submitting an issue to our GitHub Repository. Even better, you can submit a Pull Request with a patch. You can request a new feature by submitting an issue to our GitHub Repository.<br>
If you would like to implement a new feature, please submit an issue with a proposal for your work first, and that ensures your work collaborates with our development road map well. For a major feature, first open an issue and outline your proposal so that it can be discussed. This will also allow us to better coordinate our efforts, prevent duplication of work, and help you to craft the change so that it is successfully accepted into the project.</p>
<h2 class="mume-header" id="structure-of-the-package">Structure of the package</h2>

<p>Please refer to <a href="./install.html">our instructions</a> on how to installing ABACUS.<br>
The source code of ABACUS is based on several modules. Under the ABACUS root directory, there are the following folders:</p>
<ul>
<li><code>cmake</code>: relevant files for finding required packages when compiling the code with cmake;</li>
<li><code>docs</code>: documents and supplementary info about ABACUS;</li>
<li><code>examples</code>: some examples showing the usage of ABACUS;</li>
<li><code>source</code>: the source code in separated modules, under which a <code>test</code> folder for its unit tests;</li>
<li><code>tests</code>: End-to-end test cases;</li>
<li><code>tools</code>: the script for generating the numerical atomic orbitals.</li>
</ul>
<h2 class="mume-header" id="submitting-an-issue">Submitting an Issue</h2>

<p>Before you submit an issue, please search the issue tracker, and maybe your problem has been discussed and fixed. You can <a href="https://github.com/deepmodeling/abacus-develop/issues/new/choose">submit new issues</a> by filling our issue forms.<br>
To help us reproduce and confirm a bug, please provide a test case and building environment in your issue.</p>
<h2 class="mume-header" id="comment-style-for-documentation">Comment Style for documentation</h2>

<p>ABACUS uses Doxygen to generate docs directly from <code>.h</code> and <code>.cpp</code> code files.</p>
<p>For comments that need to be shown in documents, these formats should be used -- <strong>Javadoc style</strong> (as follow) is recommended, though Qt style is also ok. See it in <a href="https://www.doxygen.nl/manual/docblocks.html">official manual</a>.</p>
<p>A helpful VS Code extension -- <a href="https://marketplace.visualstudio.com/items?itemName=cschlosser.doxdocgen">Doxygen Documentation Generator</a>, can help you formating comments.</p>
<p>An practical example is class <a href="https://github.com/deepmodeling/abacus-develop/blob/deepks/source/module_deepks/LCAO_deepks.h">LCAO_Deepks</a>, the effects can be seen on <a href="https://abacus-deepks.readthedocs.io/en/latest/DeePKS_API/classLCAO__Descriptor.html#exhale-class-classLCAO-Descriptor">readthedocs page</a></p>
<ul>
<li>
<p>Tips</p>
<ul>
<li>Only comments in .h file will be visible in generated  by Doxygen + Sphinx;</li>
<li>Private class members will not be documented;</li>
<li>Use <a href="https://www.doxygen.nl/manual/markdown.html">Markdown features</a>, such as using a empty new line for a new paragraph.</li>
</ul>
</li>
<li>
<p>Detailed Comment Block</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token comment">/**
* ... text ...
*/</span>
</pre></li>
<li>
<p>Brief + Detailed Comment Block</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token comment">/// Brief description which ends at this dot. Details follow</span>
<span class="token comment">/// here.</span>

<span class="token comment">/// Brief description.</span>
<span class="token comment">/** Detailed description. */</span>
</pre></li>
<li>
<p>Comments After the Item: Add a &quot;&lt;&quot;</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token keyword keyword-int">int</span> var<span class="token punctuation">;</span> <span class="token comment">/**&lt;Detailed description after the member */</span>
<span class="token keyword keyword-int">int</span> var<span class="token punctuation">;</span> <span class="token comment">///&lt;Brief description after the member</span>
</pre></li>
<li>
<p>Parameters<br>
usage: <code>[in],[out],[in,out] description</code><br>
<em>e.g.</em></p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token keyword keyword-void">void</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> v<span class="token comment">/**&lt; [in] docs for input parameter v.*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>or use <code>@param</code> command.</p>
</li>
<li>
<p>Formula</p>
<ul>
<li>
<p>inline: <code>\f$myformula\f$</code></p>
</li>
<li>
<p>separate line: <code>\f[myformula\f]</code></p>
</li>
<li>
<p>environment: <code>\f{environment}{myformula}</code></p>
</li>
<li>
<p><em>e.g.</em></p>
<pre data-role="codeBlock" data-info="latex" class="language-latex"><span class="token function selector">\f</span><span class="token punctuation">{</span>eqnarray*<span class="token punctuation">}</span><span class="token punctuation">{</span>
        g <span class="token punctuation">&amp;</span>=<span class="token punctuation">&amp;</span> <span class="token function selector">\frac</span><span class="token punctuation">{</span>Gm_2<span class="token punctuation">}</span><span class="token punctuation">{</span>r^2<span class="token punctuation">}</span> <span class="token function selector">\\</span>
        <span class="token punctuation">&amp;</span>=<span class="token punctuation">&amp;</span> <span class="token function selector">\frac</span><span class="token punctuation">{</span>(6.673 <span class="token function selector">\times</span> 10^<span class="token punctuation">{</span>-11<span class="token punctuation">}</span><span class="token function selector">\,</span><span class="token function selector">\mbox</span><span class="token punctuation">{</span>m<span class="token punctuation">}</span>^3<span class="token function selector">\,</span><span class="token function selector">\mbox</span><span class="token punctuation">{</span>kg<span class="token punctuation">}</span>^<span class="token punctuation">{</span>-1<span class="token punctuation">}</span><span class="token function selector">\,</span>
            <span class="token function selector">\mbox</span><span class="token punctuation">{</span>s<span class="token punctuation">}</span>^<span class="token punctuation">{</span>-2<span class="token punctuation">}</span>)(5.9736 <span class="token function selector">\times</span> 10^<span class="token punctuation">{</span>24<span class="token punctuation">}</span><span class="token function selector">\,</span><span class="token function selector">\mbox</span><span class="token punctuation">{</span>kg<span class="token punctuation">}</span>)<span class="token punctuation">}</span><span class="token punctuation">{</span>(6371.01<span class="token function selector">\,</span><span class="token function selector">\mbox</span><span class="token punctuation">{</span>km<span class="token punctuation">}</span>)^2<span class="token punctuation">}</span> <span class="token function selector">\\</span>
        <span class="token punctuation">&amp;</span>=<span class="token punctuation">&amp;</span> 9.82066032<span class="token function selector">\,</span><span class="token function selector">\mbox</span><span class="token punctuation">{</span>m/s<span class="token punctuation">}</span>^2
<span class="token function selector">\f</span><span class="token punctuation">}</span>
</pre></li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="code-formatting-style">Code formatting style</h2>

<p>We use <code>clang-format</code> as our code formatter. The <code>.clang-format</code> file in root directory describes the rules to conform with.<br>
For Visual Studio Code developers, the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">official extension of C/C++</a> provided by Microsoft can help you format your codes following the rules. With this extension installed, format your code with <code>shift+command/alt+f</code>.<br>
Configure your VS Code settings as <code>&quot;C_Cpp.clang_format_style&quot;: &quot;file&quot;</code> (you can look up this option by pasting it into the search box of VS Code settings page), and all this stuff will take into effect. You may also set <code>&quot;editor.formatOnSave&quot;: true</code> to avoid formatting files everytime manually.</p>
<h2 class="mume-header" id="adding-a-unit-test">Adding a unit test</h2>

<p>We use GoogleTest as our test framework. Write your test under the corresponding module folder at <code>abacus-develop/tests</code>, then append the test to <code>tests/CMakeLists.txt</code>. If there are currently no unit tests provided for the module, do as follows. <code>module_base</code> provides a simple demonstration.</p>
<ul>
<li>Add a folder named <code>test</code> under the module.</li>
<li>Append the content below to <code>CMakeLists.txt</code> of the module:</li>
</ul>
<pre data-role="codeBlock" data-info="cmake" class="language-cmake"><span class="token function">IF</span> <span class="token punctuation">(</span>BUILD_TESTING<span class="token punctuation">)</span>
  <span class="token keyword keyword-add_subdirectory">add_subdirectory</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span>
<span class="token keyword keyword-endif">endif</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><ul>
<li>Add a blank <code>CMakeLists.txt</code> under <code>module*/test</code>.</li>
</ul>
<p>To add a unit test:</p>
<ul>
<li>Write your test under <code>GoogleTest</code> framework.</li>
<li>Add your testing source code with suffix <code>*_test.cpp</code> in <code>test</code> directory.</li>
<li>Append the content below to <code>CMakeLists.txt</code> of the module:</li>
</ul>
<pre data-role="codeBlock" data-info="cmake" class="language-cmake"><span class="token function">AddTest</span><span class="token punctuation">(</span>
  TARGET &lt;module_name<span class="token punctuation">&gt;</span>_&lt;test_name<span class="token punctuation">&gt;</span> <span class="token comment"># this is the executable file name of the test</span>
  <span class="token property">SOURCES</span> &lt;test_name<span class="token punctuation">&gt;</span>.cpp

  <span class="token comment"># OPTIONAL: if this test requires external libraries, add them with &quot;LIBS&quot; statement.</span>
  LIBS math_libs <span class="token comment"># `math_libs` includes all math libraries in ABACUS.</span>
<span class="token punctuation">)</span>
</pre><ul>
<li>Build with <code>-D BUILD_TESTING=1</code> flag. You can find built testing programs under <code>build/source/&lt;module_name&gt;/test</code>.</li>
<li>Follow the installing procedure of CMake. The tests will move to <code>build/test</code>.</li>
</ul>
<h2 class="mume-header" id="submitting-a-pull-request">Submitting a Pull Request</h2>

<ol>
<li>
<p><a href="https://docs.github.com/en/github/getting-started-with-github/fork-a-repo">Fork</a> the ABACUS repo.</p>
</li>
<li>
<p>Pull your forked repository, and create a new git branchmake to your changes in it:</p>
<pre data-role="codeBlock" data-info="shell" class="language-shell"><span class="token function">git</span> checkout -b my-fix-branch
</pre></li>
<li>
<p>Coding your patch, including appropriate test cases and docs.<br>
To run a subset of unit test, use <code>ctest -R &lt;test-match-pattern&gt;</code> to perform tests with name matched by given pattern.</p>
</li>
<li>
<p>After tests passed, commit your changes <a href="#commit-message-guidelines">with a proper message</a>.</p>
</li>
<li>
<p>Push your branch to GitHub:</p>
<pre data-role="codeBlock" data-info="shell" class="language-shell"><span class="token function">git</span> push origin my-fix-branch
</pre></li>
<li>
<p>In GitHub, send a pull request with <code>deepmodeling/abacus-develop:develop</code> as the base repository.</p>
</li>
<li>
<p>After your pull request is merged, you can safely delete your branch and sync the changes from the main (upstream) repository:</p>
</li>
</ol>
<ul>
<li>
<p>Delete the remote branch on GitHub either through the GitHub web UI or your local shell as follows:</p>
<pre data-role="codeBlock" data-info="shell" class="language-shell"><span class="token function">git</span> push origin --delete my-fix-branch
</pre></li>
<li>
<p>Check out the master branch:</p>
<pre data-role="codeBlock" data-info="shell" class="language-shell"><span class="token function">git</span> checkout develop -f
</pre></li>
<li>
<p>Delete the local branch:</p>
<pre data-role="codeBlock" data-info="shell" class="language-shell"><span class="token function">git</span> branch -D my-fix-branch
</pre></li>
<li>
<p>Update your master with the latest upstream version:</p>
<pre data-role="codeBlock" data-info="shell" class="language-shell"><span class="token function">git</span> pull --ff upstream develop
</pre></li>
</ul>
<h2 class="mume-header" id="commit-message-guidelines">Commit Message Guidelines</h2>

<p>A well-formatted commit message leads a more readable history when we look through some changes, and helps us generate change log.<br>
We follow up <a href="www.conventionalcommits.org">The Conventional Commits specification</a> for commit message format.<br>
The commit message should be structured as follows:</p>
<pre data-role="codeBlock" data-info="text" class="language-text">&lt;type&gt;[optional scope]: &lt;description&gt;

[optional body]

[optional footer(s)]
</pre><ul>
<li>Header
<ul>
<li>type: The general intention of this commit
<ul>
<li><code>feat</code>: A new feature</li>
<li><code>fix</code>: A bug fix</li>
<li><code>docs</code>: Only documentation changes</li>
<li><code>style</code>: Changes that do not affect the meaning of the code</li>
<li><code>refactor</code>: A code change that neither fixes a bug nor adds a feature</li>
<li><code>perf</code>: A code change that improves performance</li>
<li><code>test</code>: Adding missing tests or correcting existing tests</li>
<li><code>build</code>: Changes that affect the build system or external dependencies</li>
<li><code>ci</code>: Changes to our CI configuration files and scripts</li>
<li><code>revert</code>: Reverting commits</li>
</ul>
</li>
<li>scope: The scope could be the module which this commit changes; for example, <code>orbital</code></li>
<li>description: A short summary of the code changes: tell others what you did in one sentence.</li>
</ul>
</li>
<li>Body: optional, providing additional contextual information about the code changes, e.g. the motivation of this commit, referenced materials, and so on.</li>
<li>Footer: optional, reference GitHub issues, PRs that this commit closes or is related to</li>
</ul>
<p>Here is an example:</p>
<pre data-role="codeBlock" data-info="text" class="language-text">fix(lcao): use correct scalapack interface.

`pzgemv_` and `pzgemm_` used `double*` for alpha and beta parameters but not `complex*` , this would cause error in GNU compiler.

Fix #753.
</pre>
      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>